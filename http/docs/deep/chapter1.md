## 数制与编码

数制是数据进制的简称，也就是数据逢几进位的意思，如我们常用的十进制就是逢十进位。计算机常见的有二进制、八进制、十六进制三种。与数据进制最为密切的就是数据编码，主要包括原码、反码和补码三种，他们用于以不同形式表示的数据，当然这主要是一些特殊的应用需求，如进行校验和计算时，需要用于原码计算。反码和补码是为了在计算机中表示负数才出现的。



### 数制概述

#### 常见数制类型

1）十进制

2）二进制

是及计算机运算时采用的数制。

3）八进制

4）十六进制

最新的 IPv6 就采用 16 进制来表示（IPV4 通常是采用十进制表示）。注册表中也会用到十六进制。



#### 不同数制之间的相互转换

同一个数在一些环境中（如我们要进行子网划分，或者计算子网掩码时，或者对信息进行编码时等）可能要用不同数据制形式来表示，这就涉及到了进制的转换。

1）非十进制数转十进制数

。。。。

2）十进制数转非十进制数

除基取余，用基数相除，然后反序取余数，小数部分的转换用乘基取整法，也就是基数相乘，然后正序取整数。



### 运算

#### 加减乘除

。。。

#### 二进制逻辑运算

1）与运算

对应位只有都为 1 时才为1：

```java
1111
&
1001
=
1001
```

2）或运算

对应位只要存在一个 1 则为 1：

```java
10011
|
10110
=
10111
```

3）非运算

对应位的相反值：

```
1101
=>
0010
```

4）异或运算

相同即为 0，不相同则为 1：

```
1110
^
1010
=
0100
```



### 二进制表示形式 

二进制数中包括符号位，并不是所有位都代表数据本身，就像我们常用的十进制也有正负一样。

1）真值

二进制数分为有符号数、无符号数两种，有符号数规定最高位来表示数据符号，1 代表负数、0 代表正数。无符号数的每一位都代表对应位的数值。把带符号位的二进制数对应的真正数值称为真值。如 10001 的真值为 1。

2）字长

在机器数中还有一个概念 - 字长。字长是指计算机一次可处理的二进制数的码位长度，是计算机进行数据存储和数据处理的运算单位。如 32 位处理器的字长就为 32 位。字长越长代表计算机的处理能力越强，可以处理的数越大。

#### 二进制的四种表示形式

1）原码

即原始码位，或者原始编码的意思，就是对应二进制数本身代表的形式。如 5 以八位字长表示的原码就是 `00000101`。

2）补码

原码可区分正负，但是这种方法存在一个局限，那就是原码在加减运算中不方便，符号位需要单独处理、单独判断。同为正数的加减没什么问题，可是异号加减就存在问题。如 1 加 -1，原码计算会使得结果等于 -2。另外 +0 -0 有两种表示方式，存在二义性。于是有了补码。

补码的编码规则如下：正数的补码和原码相同，负数的补码是通过先把除符号位外其他各位取反，再在末位加 1。

3）反码

正数的反码与原码相同，负数的反码各位取反。

4）移码

编码规则如下：正数的符号位为 1，负数的符号位为 0，真值部分与补码一样。

#### 补码的加减运算

```java
[x + y]的补码 = x 的补码 + y 的补码
```

```java
[x - y]的补码 = x 的补码 + (-y) 的补码
```

