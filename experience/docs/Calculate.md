## 运算相关

### 1. Java 中 ++ 操作符是线程安全的吗？

不是线程安全的操作。它涉及到多个指令，如读取变量值，增加，然后存储回内存，这个过程可能会出现多个线程交差。 



### 2. a = a + b 与 a += b 的区别？

 += 隐式的将加操作的结果类型强制转换为持有结果的类型。如果两这个整型相加，如 byte、short 或者 int，首先会将它们提升到 int 类型，然后在执行加法操作。 

```java
byte a = 127; 
byte b = 127; 
b = a + b; // error : cannot convert from int to byte 
b += a; // ok
```

因为 a+b 操作会将 a、b 提升为 int 类型，所以将 int 类型赋值给 byte 就会编译出错。



### 3. 我能在不进行强制转换的情况下将一个 double 值赋值给 long 类型的变量吗？

不行，你不能在没有强制类型转换的前提下将一个 double 值赋值给 long 类型的变量，因为 double 类型的范围比 long 类型更广，所以必须要进行强制转换。 



### 4. 3\*0.1 == 0.3 将会返回什么？true 还是 false？

false，因为有些浮点数不能完全精确的表示出来。 



### 5. int 和 Integer 哪个会占用更多的内存？

Integer 对象会占用更多的内存。Integer 是一个对象，需要存储对象的元数据。但是 int 是一个原始类型的数据，所以占用的空间更少。 



### 6. “a==b”和”a.equals(b)”有什么区别？

如果 a 和 b 都是对象，则 a==b 是比较两个对象的引用，只有当 a 和 b 指向的是堆中的同一个对象才会返回 true，而 a.equals(b) 是进行逻辑比较，所以通常需要重写该方法来提供逻辑一致性的比较。例如，String 类重写 equals() 方法，所以可以用于两个不同对象，但是包含的字母相同的比较。



### 7. a.hashCode() 有什么用？与 a.equals(b) 有什么关系？

hashCode() 方法是相应对象整型的 hash 值。它常用于基于 hash 的集合类，如 Hashtable、HashMap、LinkedHashMap等等。它与 equals() 方法关系特别紧密。根据 Java 规范，两个使用 equal() 方法来判断相等的对象，必须具有相同的 hash code。 



### 8. 在没有使用临时变量的情况如何交换两个整数变量的值？

```java
x = x ^ y;
y = x ^ y;
x = x ^ y;
```



## 概念

### &

按位与，`a & b`，对应位同时为 1，则与后对应位也为 1。

### 运算符

- 分割符：　　**,　　;　　[]　　()**
- 算数运算符：　　**+　　-　　\*　　/　　%　　++　　--**
- 关系运算符：　　**>　　<　　>=　　<=　　==　　!=**
- 逻辑运算符：　　**!　　&　　|　　^　　&&　　||**
- 赋值运算符：　　**=**
- 扩展赋值运算符：　　**+=　　-=　　\*=　　/=**
- 三目运算符：　　**? :**
- 字符串连接运算符：　　**+**
- &&：短路与，只要其中一个表达式或方法的值为false，那么结果就为false，且不执行之后的操作。
- ||：短路或，只要其中一个表达式或方法的值为true，那么结果就为true，且不执行之后的操作。



优先级，从上到下优先级降低，同一行优先级相同：

| 运算符说明     | Java运算符                       |
| -------------- | -------------------------------- |
| 分割符         | .　　[]　　()　　,　　;          |
| 单目运算符     | +　　-　　~　　!　　++　　--     |
| 创建或类型转换 | new　　(type)                    |
| 乘法/除法      | *　　/　　%                      |
| 加法/减法      | +　　-                           |
| 关系           | <　　<=　　>=　　>　　instanceof |
| 等价           | ==　　!=                         |
| 按位与         | &                                |
| 按位异或       | ^                                |
| 按位或         | \|                               |
| 条件与         | &&                               |
| 条件或         | \|\|                             |
| 条件           | ?　:                             |
| 赋值           | =                                |